/* ========================================
   SISTEMA RESPONSIVO COMPLETO
   Mobile First - Web, Tablet, Mobile
   ======================================== */

/* Reset e Base */
* {
    box-sizing: border-box;
}

body {
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Scroll suave */
html {
    scroll-behavior: smooth;
}

/* Evitar quebra de layout */
img, video, canvas {
    max-width: 100%;
    height: auto;
}

/* ========================================
   MOBILE APENAS (até 640px)
   ======================================== */
@media (max-width: 640px) {
    /* Navbar compacta */
    nav .flex {
        flex-direction: row;
        gap: 0.5rem;
    }
    
    nav .text-xl {
        font-size: 1rem;
    }
    
    /* Container com padding reduzido */
    .max-w-7xl {
        padding-left: 1rem;
        padding-right: 1rem;
    }
    
    /* Ações Rápidas - Botões empilhados */
    .flex.flex-wrap.gap-3 {
        display: flex;
        flex-direction: column;
    }
    
    .flex.flex-wrap.gap-3 > button {
        width: 100%;
    }
    
    /* Header Dashboard */
    .bg-gradient-to-r.from-blue-600.to-purple-600 > div {
        flex-direction: column;
        text-align: center;
    }
    
    /* Cards de Estatísticas - 1 coluna */
    .grid.grid-cols-1.md\:grid-cols-2.lg\:grid-cols-4 {
        grid-template-columns: 1fr !important;
    }
    
    /* Grid 2 colunas vira 1 */
    .grid.grid-cols-1.md\:grid-cols-2 {
        grid-template-columns: 1fr !important;
    }
    
    /* Grid 3 colunas vira 1 */
    .grid.grid-cols-1.md\:grid-cols-3 {
        grid-template-columns: 1fr !important;
    }
    
    /* Tabelas com scroll horizontal */
    table {
        display: block;
        overflow-x: auto;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
    }
    
    /* Inputs e formulários full width */
    input, select, textarea {
        width: 100%;
        font-size: 16px; /* Evita zoom no iOS */
    }
    
    /* Modais fullscreen */
    .fixed.inset-0 > div {
        max-width: 100% !important;
        max-height: 100vh !important;
        margin: 0 !important;
        border-radius: 0 !important;
    }
    
    /* Padding reduzido */
    .p-8 {
        padding: 1rem !important;
    }
    
    .p-6 {
        padding: 1rem !important;
    }
    
    /* Textos menores */
    .text-3xl {
        font-size: 1.5rem !important;
    }
    
    .text-2xl {
        font-size: 1.25rem !important;
    }
    
    /* Botões com área de toque adequada */
    button, a {
        min-height: 44px;
        padding: 0.75rem 1rem;
    }
    
    /* Cards de subconta */
    .bg-white.rounded-lg.shadow-md.p-6 {
        padding: 1rem !important;
    }
    
    /* Grids de formulário */
    .grid.grid-cols-1.md\:grid-cols-12 {
        grid-template-columns: 1fr !important;
    }
    
    .md\:col-span-6,
    .md\:col-span-3,
    .md\:col-span-2 {
        grid-column: span 1 !important;
    }
}

/* ========================================
   TABLET APENAS (641px - 1024px)
   ======================================== */
@media (min-width: 641px) and (max-width: 1024px) {
    /* Container com padding médio */
    .max-w-7xl {
        padding-left: 2rem;
        padding-right: 2rem;
    }
    
    /* Cards de Estatísticas - 2 colunas */
    .grid.grid-cols-1.md\:grid-cols-2.lg\:grid-cols-4 {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    
    /* Ações Rápidas - 3 por linha */
    .flex.flex-wrap.gap-3 {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
    }
    
    /* Grid 3 colunas vira 2 */
    .grid.grid-cols-1.md\:grid-cols-3 {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    
    /* Modais com 90% da largura */
    .fixed.inset-0 > div {
        max-width: 90% !important;
    }
    
    /* Padding médio */
    .p-8 {
        padding: 1.5rem !important;
    }
}

/* ========================================
   DESKTOP (acima de 1024px) - GARANTIR LAYOUT ORIGINAL
   ======================================== */
@media (min-width: 1025px) {
    /* Container normal */
    .max-w-7xl {
        padding-left: 2rem;
        padding-right: 2rem;
    }
    
    /* Cards de Estatísticas - 4 colunas */
    .grid.grid-cols-1.md\:grid-cols-2.lg\:grid-cols-4 {
        grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
    }
    
    /* Grid 3 colunas */
    .grid.grid-cols-1.md\:grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
    }
    
    /* Grid 2 colunas */
    .grid.grid-cols-1.md\:grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    }
    
    /* Ações Rápidas em linha */
    .flex.flex-wrap.gap-3 {
        display: flex !important;
        flex-wrap: wrap !important;
        flex-direction: row !important;
    }
    
    /* Textos em tamanho normal */
    .text-xl {
        font-size: 1.25rem !important;
    }
    
    .text-2xl {
        font-size: 1.5rem !important;
    }
    
    .text-3xl {
        font-size: 1.875rem !important;
    }
    
    /* Padding normal */
    .p-8 {
        padding: 2rem !important;
    }
    
    .p-6 {
        padding: 1.5rem !important;
    }
    
    /* Navbar em linha */
    nav .flex {
        flex-direction: row !important;
    }
    
    /* Header dashboard em linha */
    .bg-gradient-to-r.from-blue-600.to-purple-600 > div {
        flex-direction: row !important;
    }
}

/* ========================================
   LANDSCAPE em Mobile
   ======================================== */
@media (max-width: 640px) and (orientation: landscape) {
    .p-8, .py-8 {
        padding: 0.5rem !important;
    }
}

/* ========================================
   COMPONENTES ESPECÍFICOS
   ======================================== */

/* Modal de Banner */
@media (max-width: 640px) {
    #banner-modal .grid.grid-cols-1.md\:grid-cols-2 {
        grid-template-columns: 1fr !important;
    }
    
    #banner-preview {
        height: 300px !important;
    }
}

/* Navbar Sticky */
nav {
    position: sticky;
    top: 0;
    z-index: 50;
}

/* ========================================
   UTILITÁRIOS
   ======================================== */

/* Esconder em mobile */
@media (max-width: 640px) {
    .hide-mobile {
        display: none !important;
    }
    
    .show-mobile {
        display: block !important;
    }
}

@media (min-width: 641px) {
    .hide-mobile {
        display: block !important;
    }
    
    .show-mobile {
        display: none !important;
    }
}

/* ========================================
   ACESSIBILIDADE
   ======================================== */

/* Foco visível */
button:focus,
a:focus,
input:focus,
select:focus,
textarea:focus {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

/* Alto contraste */
@media (prefers-contrast: high) {
    button {
        border: 2px solid currentColor;
    }
}

/* Respeitar preferências de animação */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ========================================
   IMPRESSÃO
   ======================================== */
@media print {
    nav, .no-print {
        display: none !important;
    }
    
    body {
        background: white !important;
    }
}
